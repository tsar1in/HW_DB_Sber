# Task_0

## 1. DragonFlyDB

DragonFlyDB - это современная in-memory база данных, совместимая с Redis. В данной системе данные хранятся в оперативной памяти, а диск используется для создания бэкапов.

1) Высокая доступность (HA) является ключевым аспектом архитектуры DragonFlyDB. Этот подход гарантирует высокую производительность и надежность работы системы. Для достижения высокой доступности в DragonFlyDB используется репликация, а также создание реплик для чтения, которые могут использоваться в случае сбоя основного экземпляра.

2) DragonFlyDB поддерживает модель первичной/вторичной репликации, аналогичную репликации Redis. При использовании репликации DragonFlyDB создает точные копии первичного экземпляра. При правильной настройке вторичные экземпляры подключаются к первичному при любом разрыве соединения и всегда стремятся оставаться точной копией первичного. Режим кластера в DragonFlyDB аналогичен Redis Cluster, где узлы делятся на master/slave. Если master-узел выходит из строя, система автоматически переводит соответствующий slave-узел в роль нового master, обеспечивая соблюдение условия A в CAP-теореме.

3) DragonFlyDB использует master/slave деление узлов, при котором все запросы проходят через master-узел. Это обеспечивает консистентность данных, соответствуя условиям P в CAP-теореме.

**Таким образом DragonFly относится к классу CA.**
## 2. ScyllaDB

ScyllaDB - это распределенная, колоночная NoSQL база данных, предназначенная для обработки больших объемов данных с высокой производительностью и низкой задержкой. Она является open-source продуктом и создана как альтернатива Apache Cassandra.

![ScyllaDB](https://github.com/tsar1in/HW_DB_Sber/blob/main/images/Scylla.png)

1) ScyllaDB построена с учетом распределенной архитектуры, она может работать на нескольких нодах в кластере. Это обеспечивает горизонтальное масштабирование: систему можно легко масштабировать, добавляя новые узлы к кластеру для обработки роста объема данных и запросов.

2) Когда пользователь в ScyllaDB выполняется любой запрос, все без исключения рабочие узлы в распределенной системе возвращают действительный ответ. При сбое все узлы остаются доступными, но некоторые могут возвращать более старую версию данных.

3) Строгой согласованности как было указано выше ScyllaDB не имеет, но используют модель настраиваемой конечной согласованности для обеспечения высокой доступности в нескольких центрах обработки данных и быстрых и эффективных операций записи и чтения. Современные рабочие нагрузки, в меньшей степени зависят от строгой согласованности, но в значительной степени зависят от доступности, поэтому в ScyllaDB было сделано именно так.

**Следовательно, ScyllaDB относится к классу AP.** Большую часть информации я взял из оффициальной документации ScyllaDB (https://www.scylladb.com/glossary/cap-theorem/).

## 3. ArenadataDB

Arenadata DB (ADB) - это аналитическая, распределенная СУБД, основанная на MPP-системе с открытым исходным кодом Greenplum.

![ScyllaDB](https://github.com/tsar1in/HW_DB_Sber/blob/main/images/2024-02-18%2020.30.51.jpg)

1) Сервера-сегменты - это мощные сервера, которые хранят и обрабатывают данные. На этих серверах размещены логические сегменты, представляющие собой инстансы PostgreSQL, к которым имеет доступ только master. У каждого сегмента есть (или может не быть) зеркало, хранящееся на другом сервере.

2) Master-сервер - на нем расположен master-сегмент, являющийся обычным экземпляром PostgreSQL (немного видоизмененным, но для пользователей он выглядит как обычный PostgreSQL). Этот сервер и master-сегмент не хранят данные и не обрабатывают их; их роль заключается в принятии запросов, их парсинге и дальнейшем распределении на воркеров. Также имеется вторичный master-сервер, на котором также запущен master-сегмент, с настроенной репликацией из основного master'а. В случае сбоя master host, вся нагрузка переключается на вторичный master host.

3) Такая архитектура позволяет эффективно управлять нагрузкой при выходе из строя одного из серверов-сегментов, перераспределяя ее на соответствующие зеркала. Это обеспечивает сохранение доступности при сбое любого компонента, такого как мастеры, сервера-сегменты или компоненты сетевого слоя. Таким образом, Arenadata DB соблюдает часть A CAP-теоремы.

Поскольку взаимодействие происходит через master-сегменты, данные на серверах-сегментах не могут различаться между любым логическим сегментом и соответствующим ему зеркалом. Это соответствует части C теоремы CAP.

**Таким образом Arenadata DB относится к классу CA.**
